{{ ... }}

## 当前任务列表

**核心功能:**

*   [x] 初始化项目结构 (`main.py`, `ui/`, `quantum_logic/`)
*   [x] 实现基础 Tkinter GUI 框架 (`ui/main_window.py`)
    *   [x] 添加游戏/演示选择按钮
    *   [x] 添加文本输出区域
    *   [x] 添加用户输入区域 (用于猜硬币游戏)
    *   [x] 添加退出按钮
*   [x] 实现量子逻辑基类 (`quantum_logic/games.py`)
    *   [x] 添加 Qiskit `Aer` 模拟器
    *   [x] 添加基础量子操作 (H 门, 测量等)
*   [x] 将命令行交互重构为 GUI 回调
    *   [x] `gui_output_func` 用于显示文本
    *   [x] `request_input_func` 用于请求用户输入
    *   [x] `end_game_func` 用于游戏结束处理
    *   [x] `gui_plot_func` 用于在 GUI 中显示 Matplotlib 绘图

**量子游戏/演示:**

*   [x] 量子猜硬币游戏 (`play_quantum_coin_game`)
    *   [x] 实现游戏逻辑
    *   [x] 完全适配 GUI 交互 (输入/输出)
        *   [备注] 该游戏已通过模块化集成至 QuantumGames 类，按钮与逻辑解耦，便于后续扩展和维护。
        *   [备注] 采用统一接口，GUI 按钮与游戏逻辑通过回调函数连接，结构清晰。
        *   [备注] 旧的分散文件已删除，后续新游戏建议采用类似模块化方式集成。
*   [x] 量子叠加态演示 (`demonstrate_superposition`)
    *   [x] 实现演示逻辑 (创建叠加态, 测量, 显示结果)
    *   [x] 适配 GUI 输出
    *   [x] 将结果直方图嵌入 GUI 可视化区域
    *   [x] 将电路图嵌入 GUI 可视化区域 (先显示)
*   [x] 量子纠缠演示 (`play_quantum_entanglement_game`)
    *   [x] 实现演示逻辑 (创建贝尔态, 测量, 显示结果)
    *   [x] 适配 GUI 输出
    *   [x] 将电路图嵌入 GUI 可视化区域
*   [x] 量子干涉演示 (`play_quantum_interference_game`)
    *   [x] 实现演示逻辑 (H vs HZH, 测量, 显示结果)
    *   [x] 适配 GUI 输出
    *   [x] 将结果直方图嵌入 GUI 可视化区域 (先显示 H 电路图, 再显示 HZH 电路图, 最后显示 HZH 直方图)
    *   [x] 将电路图 (H 和 HZH) 嵌入 GUI 可视化区域
*   [x] 量子隐形传态演示 (`play_quantum_teleportation_game`)
    *   [x] 实现演示逻辑 (隐形传态协议, 测量, 显示结果)
    *   [x] 适配 GUI 输出
    *   [x] 将结果直方图嵌入 GUI 可视化区域 (先显示电路图)
    *   [x] 将电路图嵌入 GUI 可视化区域

**用户界面 (UI) / 用户体验 (UX):**

*   [x] 按钮状态管理 (游戏进行时禁用选择按钮, 输入时启用提交按钮等)
*   [x] 滚动文本区域用于显示较多输出
*   [x] 使用 LabelFrame 对 UI 元素进行分组
*   [x] 添加可视化区域用于嵌入 Matplotlib 图表
    *   [x] 实现 `display_plot` 和 `clear_plot_area` 辅助函数
    *   [x] 将主要演示的电路图和直方图嵌入此区域
*   [~] 在可视化区域添加工具栏 (例如保存图片按钮)？
*   [~] 更精美的 UI 风格？(可能需要 ttk 或自定义主题)
*   [x] 将所有面向用户的文本翻译为中文
*   [x] 将可视化（直方图和电路图）嵌入GUI
*   [~] 修复绘图闪烁问题 (已移除中间绘图, 等待测试)
*   [~] 确保退出按钮始终可见 (已重新布局, 等待测试)

**代码质量与维护:**

*   [x] 将 UI 代码 (`ui/main_window.py`) 与量子逻辑代码 (`quantum_logic/games.py`) 分离
*   [x] 使用回调函数解耦 UI 与逻辑
*   [ ] (待办) 添加更详细的注释和文档字符串
*   [ ] (待办) 添加单元测试 (特别是 `quantum_logic` 部分)
*   [ ] (待办) 错误处理优化 (更具体的异常捕获与提示)
*   [x] 更新 `task.md` 跟踪进度

**文档与部署:**

*   [x] 创建/更新 `requirements.txt` 文件 (包含 qiskit, qiskit-aer, matplotlib, pylatexenc)
*   [x] 更新 `README.md` (安装说明, 运行方法, 功能介绍)
*   [x] 添加 `.gitignore` 文件

## 已知问题与未来想法

*   目前可视化区域一次只显示一个图。对于干涉演示，HZH 图会覆盖 H 图, HZH 直方图会覆盖 HZH 电路图。可以考虑是否需要并排显示或提供切换机制。
*   电路图和直方图的切换可能有点快，用户可能来不及看清电路图。
*   `qc.draw('mpl')` 需要 `pylatexenc` 依赖。
*   没有对量子计算后端错误 (例如模拟器问题) 做特别处理。
*   输入框目前只用于猜硬币游戏，其他演示没有交互。

---
更新时间: 2025-04-26

## 任务列表

## 项目深化与用户体验优化分步任务
- [x] 为每个量子演示/游戏项目撰写详细的算法说明，包括：
    - 算法原理与物理意义
    - 电路结构及关键门作用
    - 直方图（测量结果）物理解释
    > 已整理为结构化字典，便于后续界面调用
- [x] 将说明内容整理为结构化字典或文本，便于界面调用
    > 已生成可直接导入的 Python 字典（见 quantum_descriptions.py 示例）
- [x] 在界面为每个演示集成说明弹窗或说明区域
    - 用户点击演示按钮时弹出说明，或在侧边栏动态显示
    > 已集成弹窗显示说明的功能

- [x] 修复量子游戏可视化问题 (多图同步显示, 布局问题解决)
- [x] 重构项目结构与清理文件 (结构已验证, .windsurfrules 已删除)
- [x] 实现额外的量子算法
  - [x] 实现 Deutsch-Jozsa 算法演示
  - [x] 实现 Grover 搜索算法演示
  - [x] 实现量子傅里叶变换 (QFT) 演示
